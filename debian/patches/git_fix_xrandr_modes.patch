From 25ad3486a4dde131c285212dc652f5a07bbf0d7c Mon Sep 17 00:00:00 2001
From: Giovanni Campagna <gcampagn@redhat.com>
Date: Wed, 21 Aug 2013 17:07:01 +0000
Subject: MonitorXrandr: fix reading the current DPMS level

Add missing break statements, to avoid falling always through
to the invalid case.

https://bugzilla.gnome.org/show_bug.cgi?id=706582
---
diff --git a/src/core/monitor-xrandr.c b/src/core/monitor-xrandr.c
index 37dd4ca..1a66c13 100644
--- a/src/core/monitor-xrandr.c
+++ b/src/core/monitor-xrandr.c
@@ -337,18 +337,23 @@ meta_monitor_manager_xrandr_read_current (MetaMonitorManager *manager)
       dpms_enabled)
     {
       switch (dpms_state)
-	{
-	case DPMSModeOn:
-	  manager->power_save_mode = META_POWER_SAVE_ON;
-	case DPMSModeStandby:
-	  manager->power_save_mode = META_POWER_SAVE_STANDBY;
-	case DPMSModeSuspend:
-	  manager->power_save_mode = META_POWER_SAVE_SUSPEND;
-	case DPMSModeOff:
-	  manager->power_save_mode = META_POWER_SAVE_OFF;
-	default:
-	  manager->power_save_mode = META_POWER_SAVE_UNKNOWN;
-	}
+        {
+        case DPMSModeOn:
+          manager->power_save_mode = META_POWER_SAVE_ON;
+          break;
+        case DPMSModeStandby:
+          manager->power_save_mode = META_POWER_SAVE_STANDBY;
+          break;
+        case DPMSModeSuspend:
+          manager->power_save_mode = META_POWER_SAVE_SUSPEND;
+          break;
+        case DPMSModeOff:
+          manager->power_save_mode = META_POWER_SAVE_OFF;
+          break;
+        default:
+          manager->power_save_mode = META_POWER_SAVE_UNKNOWN;
+          break;
+        }
     }
   else
     {
--
cgit v0.9.2

